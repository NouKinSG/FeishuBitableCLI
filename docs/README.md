# 1. é£ä¹¦å¤šç»´è¡¨æ ¼ CLI å·¥å…·

[![Go Version](https://img.shields.io/badge/Go-1.23-blue.svg)](https://golang.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## 1.1. é¡¹ç›®æ¦‚è¿°

é£ä¹¦å¤šç»´è¡¨æ ¼ CLI æ˜¯ä¸€ä¸ªåŸºäºé£ä¹¦å¤šç»´è¡¨æ ¼ API çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›äº¤äº’å¼ç»ˆç«¯ç•Œé¢ï¼Œå¸®åŠ©ç”¨æˆ·åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸­é«˜æ•ˆç®¡ç†é£ä¹¦å¤šç»´è¡¨æ ¼ã€‚è¯¥å·¥å…·ä½¿ç”¨ Go è¯­è¨€å¼€å‘ï¼ŒåŸºäº [bubbletea](https://github.com/charmbracelet/bubbletea) æ„å»ºç¾è§‚æ˜“ç”¨çš„ TUI ç•Œé¢ã€‚

## 1.2. åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **äº¤äº’å¼ç»ˆç«¯ç•Œé¢**ï¼šåŸºäº bubbletea æ„å»ºçš„ç¾è§‚æ˜“ç”¨çš„ TUI ç•Œé¢
- ğŸ“Š **å¤šç»´è¡¨æ ¼ç®¡ç†**ï¼šåˆ›å»ºã€æŸ¥çœ‹å’Œç®¡ç†é£ä¹¦å¤šç»´è¡¨æ ¼
- ğŸ”§ **è¡¨æ ¼ç»“æ„æ“ä½œ**ï¼šç®¡ç†å­—æ®µã€è®°å½•å’Œè¡¨æ ¼ç»“æ„
- ğŸ”„ **æ•°æ®åŒæ­¥**ï¼šæ”¯æŒæœ¬åœ°æ•°æ®ä¸é£ä¹¦å¤šç»´è¡¨æ ¼çš„åŒæ­¥æ“ä½œ
- ğŸ” **å®‰å…¨è®¤è¯**ï¼šåŸºäºé£ä¹¦å¼€æ”¾å¹³å°çš„å®‰å…¨è®¤è¯æœºåˆ¶

## 1.3. å®‰è£…è¯´æ˜

### 1.3.1. å‰ç½®æ¡ä»¶

- Go 1.23 æˆ–æ›´é«˜ç‰ˆæœ¬
- é£ä¹¦å¼€å‘è€…è´¦å·å’Œåº”ç”¨å‡­è¯

### 1.3.2. å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/yourusername/FeishuBitableCLI.git
cd FeishuBitableCLI
```

2. å®‰è£…ä¾èµ–

```bash
go mod download
```

3. ç¼–è¯‘é¡¹ç›®

```bash
go build -o feishu-bitable-cli ./cmd/feishu-bitable-cli
```

4. é…ç½®åº”ç”¨å‡­è¯

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `configs/config.local.yaml` æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

```yaml
app_id: "ä½ çš„é£ä¹¦åº”ç”¨ID"
app_secret: "ä½ çš„é£ä¹¦åº”ç”¨å¯†é’¥"
user_access_token: "ä½ çš„ç”¨æˆ·è®¿é—®ä»¤ç‰Œ"
debug: false
```

## 1.4. ä½¿ç”¨æŒ‡å—

### 1.4.1. å¯åŠ¨åº”ç”¨

```bash
./feishu-bitable-cli
```

### 1.4.2. åŸºæœ¬æ“ä½œ

å¯åŠ¨åï¼Œæ‚¨å°†çœ‹åˆ°äº¤äº’å¼ç»ˆç«¯ç•Œé¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š

- åˆ›å»ºå¤šç»´è¡¨æ ¼
- ç®¡ç†è¡¨æ ¼ç»“æ„
- æ“ä½œå­—æ®µå’Œè®°å½•
- æ•°æ®å¯¼å…¥å¯¼å‡º

## 1.5. API å‚è€ƒ

### 1.5.1. å¤šç»´è¡¨æ ¼æ“ä½œ

#### 1.5.1.1. åˆ›å»ºå¤šç»´è¡¨æ ¼

```go
info, err := bitable.CreateApp("è¡¨æ ¼åç§°", "æ–‡ä»¶å¤¹Token")
```

#### 1.5.1.2. åˆ›å»ºè¡¨æ ¼

```go
bitable.CreateTable("åº”ç”¨Token")
```

### 1.5.2. å­—æ®µæ“ä½œ

```go
bitable.CreateFields()
```

### 1.5.3. è®°å½•æ“ä½œ

```go
// æ’å…¥æ¨¡æ‹Ÿæ•°æ®
bitable.InsertMock()

// æŸ¥è¯¢è®°å½•
bitable.QueryRecords()
```

## 1.6. é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½äº `configs/config.local.yaml`ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µ | è¯´æ˜ |
|------|------|
| app_id | é£ä¹¦åº”ç”¨ ID |
| app_secret | é£ä¹¦åº”ç”¨å¯†é’¥ |
| app_token | å¤šç»´è¡¨æ ¼åº”ç”¨ Token |
| table_id | è¡¨æ ¼ ID |
| user_access_token | ç”¨æˆ·è®¿é—®ä»¤ç‰Œ |
| debug | è°ƒè¯•æ¨¡å¼å¼€å…³ |

## 1.7. é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ cmd/                    # å‘½ä»¤è¡Œå…¥å£
â”‚   â””â”€â”€ feishu-bitable-cli/ # ä¸»ç¨‹åº
â”œâ”€â”€ configs/                # é…ç½®æ–‡ä»¶ç›®å½•
â”œâ”€â”€ internal/               # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ bitable/           # å¤šç»´è¡¨æ ¼æ“ä½œç›¸å…³
â”‚   â”‚   â”œâ”€â”€ app.go         # åº”ç”¨æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ field.go       # å­—æ®µæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ record.go      # è®°å½•æ“ä½œ
â”‚   â”‚   â””â”€â”€ table.go       # è¡¨æ ¼æ“ä½œ
â”‚   â”œâ”€â”€ cli/               # å‘½ä»¤è¡Œç•Œé¢
â”‚   â”‚   â””â”€â”€ tui/           # ç»ˆç«¯ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ pkg/                    # å…¬å…±åŒ…
â”‚   â””â”€â”€ bitable/           # å¤šç»´è¡¨æ ¼å®¢æˆ·ç«¯
â””â”€â”€ test/                   # æµ‹è¯•ä»£ç 
```

## 1.8. å¼€å‘æŒ‡å—

### 1.8.1. æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `internal/bitable/` ç›®å½•ä¸‹å®ç°ç›¸å…³ API è°ƒç”¨
2. åœ¨ `internal/cli/tui/` ç›®å½•ä¸‹æ·»åŠ ç”¨æˆ·ç•Œé¢å¤„ç†é€»è¾‘
3. æ›´æ–°é…ç½®å’Œæ–‡æ¡£

### 1.8.2. è°ƒè¯•æŠ€å·§

å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼š

```yaml
# configs/config.local.yaml
debug: true
```

## 1.9. å¸¸è§é—®é¢˜

### 1.9.1. è®¤è¯å¤±è´¥

- æ£€æŸ¥ `app_id` å’Œ `app_secret` æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ `user_access_token` æ˜¯å¦æœ‰æ•ˆä¸”æœªè¿‡æœŸ

### 1.9.2. æƒé™é—®é¢˜

- ç¡®ä¿åº”ç”¨å·²è·å¾—å¿…è¦çš„æƒé™èŒƒå›´
- æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æ“ä½œç›®æ ‡è¡¨æ ¼çš„æƒé™

## 1.10. è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºæ”¹è¿›å»ºè®®ã€‚è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## 1.11. è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶

## 1.12. è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issues æˆ–ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- é‚®ç®±ï¼šyour.email@example.com
- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/yourusername/FeishuBitableCLI